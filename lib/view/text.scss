%text-base {
    word-wrap: break-word;
    text-decoration: none;
}

%text-ellipsis {
    overflow: hidden;
	text-overflow: ellipsis;
}


@mixin text-overflow($lines, $width: 100%) {
    $line: get($lines, 1);
    $line-height: get($lines, 2, 1.1);
    flex-shrink: 1;
    
    @if $line == 1 {
        display: block;
	    white-space: nowrap;
    } @else {
        display: -webkit-box;
        -webkit-line-clamp: $line;
        -webkit-box-orient: vertical;
    }
    @if unit($line-height) == "" {
        // 防止被切掉底边
        height: $line * $line-height * 1em;
    } @else {
        height: $line * $line-height;
    }
    @extend %text-base;
    @extend %text-ellipsis;
    @include set(width, $width);
}

@mixin text($font, $align: x, $overflow: x) {
    @extend %text-base;
    @include set-font($font);
    @include set-i(text-align, $align, 1);
    $line-height: get($align, 2);
    @include set(line-height, $line-height);
    @if $overflow != x {
        $lines: (get($overflow, 1), $line-height);
        @include text-overflow($lines, get($overflow, 2, 100%))
    }
} 

@mixin text-overflow-font($small-font, $lines, $width: 100%) {
    @include text-overflow($lines, font-rate($width, $small-font));
    @include set-small-font($small-font);
}
